(function(e){function t(t){for(var r,a,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)a=o[u],i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d21a3d2":"92a42041","chunk-41bc222c":"b882e1f8","chunk-582aa606":"c88a5b1a","chunk-5c9bc836":"fd80e8c7","chunk-7c327956":"58c80904","chunk-f3c28d50":"251ebd65"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-41bc222c":1,"chunk-582aa606":1,"chunk-5c9bc836":1,"chunk-7c327956":1,"chunk-f3c28d50":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d21a3d2":"31d6cfe0","chunk-41bc222c":"546fb297","chunk-582aa606":"546fb297","chunk-5c9bc836":"477fdfbe","chunk-7c327956":"477fdfbe","chunk-f3c28d50":"477fdfbe"}[e]+".css",i=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===r||u===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.request=r,delete a[e],f.parentNode.removeChild(f),n(s)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){a[e]=0}));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,n){r=i[e]=[t,n]});t.push(r[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}i[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="4678"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=n("bb71");n("da64");r["a"].use(a["a"],{iconfont:"md"});var i=n("8c4f"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.auth.authenticated?n("v-app",[n("main-drawer"),n("main-navbar"),e._l(e.alerts,function(t,r){return n("v-snackbar",{key:"alert-"+r,attrs:{color:t.status?"success":"error",right:!0,top:!0},model:{value:t.show,callback:function(n){e.$set(t,"show",n)},expression:"alert.show"}},[e._v("\n    "+e._s(t.message)+"\n    "),n("v-btn",{attrs:{flat:"",icon:""},on:{click:function(e){t.show=!1}}},[n("v-icon",[e._v("clear")])],1)],1)}),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("router-view",{key:e.$route.params.entity||""})],1)],1)],2):e._e()},o=[],c=(n("7f7f"),n("96cf"),n("3b8d")),l=n("cebc"),u=n("2f62"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{fixed:"",app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[1==e.$store.state.auth.user.details.user_type?n("v-list-group",{attrs:{"prepend-icon":"store","append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.$store.state.app.selectedOffice.name))])],1)],1)]},proxy:!0}],null,!1,978669228),model:{value:e.office,callback:function(t){e.office=t},expression:"office"}},e._l(e.$store.state.entities.offices,function(t,r){return n("v-list-tile",{key:r,on:{click:function(n){return e.$store.commit("app/selectOffice",t)}}},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)}),1):e._e(),1==e.$store.state.auth.user.details.user_type?n("v-list-tile",{on:{click:function(t){return e.$router.push("/almacen")}}},[n("v-list-tile-action",[n("v-icon",[e._v("storage")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Almacen")])],1)],1):e._e(),1==e.$store.state.auth.user.details.user_type?n("v-list-tile",{on:{click:function(t){return e.$router.push("/envios-almacen")}}},[n("v-list-tile-action",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Envio de Almacen")])],1)],1):e._e(),1==e.$store.state.auth.user.details.user_type?n("v-list-group",{attrs:{"prepend-icon":e.item.model?e.item.icon:e.item["icon-alt"],"append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.item.text))])],1)],1)]},proxy:!0}],null,!1,430879209),model:{value:e.item.model,callback:function(t){e.$set(e.item,"model",t)},expression:"item.model"}},e._l(e.item.children,function(t,r){return n("v-list-tile",{key:r,on:{click:function(n){return e.$router.push(t.path)}}},[t.icon?n("v-list-tile-action",[n("v-icon",[e._v(e._s(t.icon))])],1):e._e(),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.text))])],1)],1)}),1):e._e(),n("v-list-tile",{on:{click:function(t){return e.$router.push("/ajustes")}}},[n("v-list-tile-action",[n("v-icon",[e._v("settings")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Ajustes")])],1)],1)],1)],1)},f=[],m={data:function(){return{office:null,item:{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Gestión",model:!1,children:[{text:"Colores",path:"/colores"},{text:"Diseños",path:"/disenos"},{text:"Telas",path:"/telas"},{text:"Modelos",path:"/modelos"},{text:"Sucursales",path:"/sucursales"},{text:"Clientes",path:"/clientes"},{text:"Proveedores",path:"/proveedores"},{text:"Usuarios",path:"/usuarios"}]}}},computed:{drawer:{get:function(){return this.$store.state.app.drawer},set:function(e){this.$store.commit("app/drawer",e)}}}},p=m,h=n("2877"),b=n("6544"),v=n.n(b),y=n("132d"),g=n("8860"),_=n("56b0"),j=n("ba95"),k=n("40fe"),w=n("5d23"),x=n("f774"),O=Object(h["a"])(p,d,f,!1,null,null,null),S=O.exports;v()(O,{VIcon:y["a"],VList:g["a"],VListGroup:_["a"],VListTile:j["a"],VListTileAction:k["a"],VListTileContent:w["a"],VListTileTitle:w["c"],VNavigationDrawer:x["a"]});var q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{color:"blue",dark:"",fixed:"",app:"","clipped-left":""}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{on:{click:function(t){return e.$router.push("/")}}},[e._v("\n    "+e._s(e.$store.state.auth.user.details.team.name)+"\n  ")]),n("v-spacer"),n("v-menu",{attrs:{"close-on-content-click":!0,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"hidden-xs-only",attrs:{flat:""}},r),[n("v-icon",[e._v("store")]),e._v(" "+e._s(e.$store.state.app.selectedOffice.name)+"\n      ")],1)]}}]),model:{value:e.showOffices,callback:function(t){e.showOffices=t},expression:"showOffices"}},[n("v-card",[n("v-list",[e._l(e.$store.state.entities.offices,function(t){return n("v-list-tile",{key:t.id},[n("v-list-tile-content",{on:{click:function(n){return e.$store.commit("app/selectOffice",t)}}},[n("v-list-tile-title",[e._v(e._s(t.name))]),n("v-list-tile-sub-title",[e._v(e._s(t.address))])],1),t.id===e.$store.state.app.selectedOffice.id?n("v-list-tile-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.$store.commit("app/selectOffice",t)}}},[n("v-icon",[e._v("check")])],1)],1):e._e()],1)}),e.notifications.length?e._e():n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("No hay notificaciones recientes")])],1)],1)],2)],1)],1),n("v-btn",{attrs:{icon:""},on:{click:e.logout}},[n("v-icon",[e._v("logout")])],1)],1)},C=[],$=(n("20d6"),{data:function(){return{showNotifications:null,showOffices:null,notifications:[{id:1},{id:2}]}},computed:{drawer:{get:function(){return this.$store.state.app.drawer},set:function(e){this.$store.commit("app/drawer",e)}}},methods:{dismissNotification:function(e){var t=this.notifications.findIndex(function(t){return t.id===e});-1!==t&&this.notifications.splice(t,1)},logout:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("entities/reset"),e.next=3,this.$store.dispatch("auth/logout");case 3:localStorage.clear(),this.$router.push("/login");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),E=$,V=n("8336"),T=n("b0af"),I=n("e449"),D=n("9910"),U=n("71d9"),R=n("706c"),A=n("2a7f"),N=Object(h["a"])(E,q,C,!1,null,null,null),z=N.exports;v()(N,{VBtn:V["a"],VCard:T["a"],VIcon:y["a"],VList:g["a"],VListTile:j["a"],VListTileAction:k["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VListTileTitle:w["c"],VMenu:I["a"],VSpacer:D["a"],VToolbar:U["a"],VToolbarSideIcon:R["a"],VToolbarTitle:A["a"]});var P={name:"App",components:{MainDrawer:S,MainNavbar:z},computed:Object(l["a"])({},Object(u["c"])("entities",["offices"]),Object(u["c"])("app",["alerts"])),watch:{offices:function(e){e.length&&!this.$store.state.app.selectedOffice.id&&this.$store.commit("app/selectOffice",e[0])}},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.state.auth.authenticated&&(document.title=this.$store.state.auth.user.details.team.name),e.next=3,this.$store.dispatch("entities/initialValues");case 3:this.$store.state.entities.offices.length&&this.$store.commit("app/selectOffice",this.$store.state.entities.offices[0]);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},L=P,M=n("7496"),F=n("a523"),H=n("549c"),B=n("2db4"),G=Object(h["a"])(L,s,o,!1,null,null,null),J=G.exports;v()(G,{VApp:M["a"],VBtn:V["a"],VContainer:F["a"],VContent:H["a"],VIcon:y["a"],VSnackbar:B["a"]}),r["a"].use(i["a"]);var K=[{path:"/login",name:"login",component:function(){return n.e("chunk-f3c28d50").then(n.bind(null,"a55b"))}},{path:"/admin-panel",name:"admin-panel",component:function(){return n.e("chunk-7c327956").then(n.bind(null,"3530"))},meta:{requiresSuperadmin:!0}},{path:"/",component:J,children:[{path:"",component:function(){return n.e("chunk-2d21a3d2").then(n.bind(null,"bb51"))}},{path:"home",component:function(){return n.e("chunk-2d21a3d2").then(n.bind(null,"bb51"))}},{path:"ajustes",component:function(){return n.e("chunk-5c9bc836").then(n.bind(null,"26d3"))}},{path:"almacen",component:function(){return n.e("chunk-41bc222c").then(n.bind(null,"68e3"))}},{path:":entity",component:function(){return n.e("chunk-582aa606").then(n.bind(null,"9bde"))}}],meta:{requiresAuth:!0}}],Y=new i["a"]({mode:"history",base:"/",routes:K});Y.beforeEach(function(e,t,n){if(e.matched.some(function(e){return e.meta.requiresSuperadmin})){var r=localStorage.getItem("user")?JSON.parse(localStorage.user):null;r&&r.superadmin?n():n(r?"/":{path:"/login",query:{redirect:e.fullPath}})}else if(e.matched.some(function(e){return e.meta.requiresAuth})){var a=localStorage.getItem("user")?JSON.parse(localStorage.user):null;a?n():n({path:"/login",query:{redirect:e.fullPath}})}else n()});var W=Y,X=n("bfa9"),Q=n("f499"),Z=n.n(Q),ee=n("768b"),te=n("ed08"),ne={authenticated:null!==localStorage.getItem("user"),token:null,user:null!==localStorage.getItem("user")?JSON.parse(localStorage.user):null},re={},ae={login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(te["a"])({url:"/api/login",method:"post",data:n});case 3:return a=e.sent,i=Object(ee["a"])(a,2),s=i[0],o=i[1],s||(localStorage.user=Z()(o.user),localStorage.token=o.token,Object(te["g"])(),r("login",{user:o.user,token:o.token})),e.abrupt("return",[s,o]);case 9:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),logout:function(e){var t=e.commit;t("logout")},updateUser:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.item,i=n.entity,e.next=4,Object(te["a"])({url:"/api/".concat(i,"/").concat(a.id),data:a,method:"put"});case 4:return s=e.sent,o=Object(ee["a"])(s,2),c=o[0],l=o[1],c||r("updateUser",{user:l.data}),e.abrupt("return",[c,l]);case 10:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},ie={login:function(e,t){var n=t.token,r=t.user;e.authenticated=!0,e.token=n,e.user=r},logout:function(e){e.authenticated=!1,e.token=null,e.user=null},updateUser:function(e,t){var n=t.user;e.user=n}},se={namespaced:!0,state:ne,getters:re,actions:ae,mutations:ie},oe={drawer:null,selectedOffice:{},alerts:[]},ce={},le={},ue={drawer:function(e,t){e.drawer=t},selectOffice:function(e,t){e.selectedOffice=t},showAlert:function(e,t){e.alerts.push(Object(l["a"])({},t,{show:!0}))}},de={namespaced:!0,state:oe,getters:ce,actions:le,mutations:ue},fe=n("5176"),me=n.n(fe),pe=n("a4bb"),he=n.n(pe),be=(n("28a5"),n("ac6a"),n("06db"),n("e814")),ve=n.n(be),ye=n("2ef0"),ge=n("6d31"),_e=Object(l["a"])({},Object(ge["f"])()),je={getItems:function(e){return function(t){var n=t.entity,r=t.params,a=void 0===r?{office:null}:r,i=e[n];return a.office&&"stocks"===n&&(i=i.filter(function(e){return Object(ye["isEqual"])(e.office_id,a.office.id)||ve()(e.office_id,10)===ve()(a.office.id,10)})),i}},getSearchableItems:function(e){return function(t){var n=t.entity,r=t.keys,a=void 0===r?["name"]:r;return e[n].map(function(e){var t="";return a.forEach(function(n){t+="".concat(Object(te["b"])(e,n.split("."))?"".concat(Object(te["b"])(e,n.split("."))," "):"")}),{text:t,value:e.id}})}}},ke={read:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.entity,e.next=4,Object(te["a"])({url:"/api/".concat(a)});case 4:i=e.sent,s=Object(ee["a"])(i,2),o=s[0],c=s[1],o||r("read",{items:c,entity:a});case 9:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.item,a=n.entity,i=n.noUpdate,e.next=3,Object(te["a"])({url:"/api/".concat(a),data:r,method:"post"});case 3:return s=e.sent,o=Object(ee["a"])(s,2),c=o[0],l=o[1],c||i||(l.exists?(u=t.state[a].findIndex(function(e){var t=e.id;return Object(ye["isEqual"])(t,l.data.id)||ve()(t,10)===ve()(l.data.id,10)}),t.commit("update",{item:l.data,entity:a,updatedItem:u})):t.commit("create",{item:l.data,entity:a})),e.abrupt("return",[c,l]);case 9:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o,c,l,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.item,i=n.entity,s=n.updatedItem,e.next=4,Object(te["a"])({url:"/api/".concat(i,"/").concat(a.id),data:a,method:"put"});case 4:return o=e.sent,c=Object(ee["a"])(o,2),l=c[0],u=c[1],l||r("update",{item:u.data,entity:i,updatedItem:s}),e.abrupt("return",[l,u]);case 10:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,i,s,o,c,l,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,a=n.item,i=n.entity,s=n.deletedItem,o=n.noDelete,e.next=4,Object(te["a"])({url:"/api/".concat(i,"/").concat(a.id),method:"delete"});case 4:return c=e.sent,l=Object(ee["a"])(c,2),u=l[0],d=l[1],u||o||r("delete",{item:s,entity:i}),e.abrupt("return",[u,d]);case 10:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),initialValues:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n={},r={},he()(t.state).forEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(a){var i,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state[a].length){e.next=14;break}return n[a]=[],r[a]=[],e.next=5,Object(te["a"])({url:"/api/".concat(a,"/init"),data:t.state[a].map(function(e){var t=e.id;return{id:t}}),method:"post"});case 5:i=e.sent,s=Object(ee["a"])(i,2),o=s[0],c=s[1],o||c.forEach(function(e){e.deleted_at?n[a].push(e.id):r[a].push(e)}),n[a].forEach(function(e){var n=t.state[a].findIndex(function(t){var n=t.id;return Object(ye["isEqual"])(n,e)||ve()(n,10)===ve()(e,10)});-1!==n&&t.commit("delete",{entity:a,item:n})}),r[a].forEach(function(e){var n=t.state[a].findIndex(function(t){var n=t.id;return Object(ye["isEqual"])(n,e.id)||ve()(n,10)===ve()(e.id,10)});-1!==n?t.commit("update",{entity:a,item:e,updatedItem:n}):t.commit("create",{item:e,entity:a})}),e.next=15;break;case 14:t.dispatch("read",{entity:a});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},we={read:function(e,t){var n=t.items,r=t.entity;e[r]=n},create:function(e,t){var n=t.item,r=t.entity;e[r].push(n)},update:function(e,t){var n=t.item,r=t.entity,a=t.updatedItem;me()(e[r][a],n)},delete:function(e,t){var n=t.item,r=t.entity;e[r].splice(n,1)},reset:function(e){me()(e,Object(l["a"])({},Object(ge["f"])()))}},xe={namespaced:!0,state:_e,getters:je,actions:ke,mutations:we};r["a"].use(u["a"]),r["a"].config.devtools=!0;var Oe=new X["a"]({modules:["auth","entities"]}),Se={modules:{auth:se,app:de,entities:xe},plugins:[Oe.plugin]},qe=new u["a"].Store(Se),Ce=n("9483");Object(Ce["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh.");var t=e.waiting;window.confirm("Hay una actualización disponible, desea actualizar ahora?")&&(t.postMessage({action:"skipWaiting"}),window.location.reload())},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("2fac");r["a"].config.productionTip=!1,r["a"].config.devtools=!0;var $e={functional:!0,render:function(e){return e("router-view")}};new r["a"]({router:W,store:qe,render:function(e){return e($e)}}).$mount("#app")},"6d31":function(e,t,n){"use strict";n("4917");var r=n("cebc"),a=(n("7f7f"),n("a4bb")),i=n.n(a),s=n("468d"),o=n.n(s),c={functional:!0,render:function(e,t){var n=t.props,r=n.color||n;return r.color?e(o.a,{attrs:{colors:[r.color],disabled:!0,inline:!0,"background-color":"transparent"}}):null}},l={functional:!0,render:function(e,t){var n=t.props;return e(o.a,{attrs:{colors:[n.color],disabled:!0,inline:!0,"background-color":"transparent"}})}},u={functional:!0,render:function(e,t){var n=t.props;return e("div",[e("v-text-field",{class:"holi",attrs:{value:n.value,type:"text",rules:n.rules,label:n.label}}),e(o.a,{attrs:{value:n.value,colors:["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff","#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff","#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc","#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd","#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0","#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79","#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47","#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130]"],inline:!0,"background-color":"transparent"},on:{input:n.changeHandler}})])}},d={name:"Color",display_name:"Color",display_name_plural:"Colores",apiUrl:"colors",url:"colores",field_configs:{list:{name:{align:"left"},color:{align:"center",formatter:l,sortable:!1}},form:{name:{required:!0},color:{required:!0,formatter:u}}},fields:{name:{display_name:"Nombre"},color:{display_name:"Color"}},formatter:c},f=d,m={functional:!0,render:function(e,t){var n=t.props,r=n.design||n;return e("div",[r.name])}},p={name:"Design",display_name:"Diseño",display_name_plural:"Diseños",apiUrl:"designs",url:"disenos",field_configs:{list:{name:{align:"left"}},form:{name:{required:!0}}},fields:{name:{display_name:"Nombre"}},formatter:m},h=p,b={functional:!0,render:function(e,t){var n=t.props,r=n.fabric||n;return e("div",[r.name])}},v={name:"Fabric",display_name:"Tela",display_name_plural:"Telas",apiUrl:"fabrics",url:"telas",field_configs:{list:{name:{align:"left"},buy_price:{align:"right",type:"number"},sell_price:{align:"right",type:"number"}},form:{name:{required:!0},buy_price:{type:"number"},sell_price:{type:"number"}}},fields:{name:{display_name:"Nombre"},buy_price:{display_name:"Precio de Compra (USD)"},sell_price:{display_name:"Precio de Venta (MXN)"}},formatter:b},y=v,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{attrs:{value:e.value,loading:e.loading,items:e.items,"search-input":e.search,label:e.label,clearable:!0,rules:e.rules,"cache-items":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},change:e.changeHandler}})},_=[],j=(n("386d"),n("768b")),k=(n("96cf"),n("3b8d")),w=(n("c5f6"),n("2ef0")),x=n("ed08"),O={props:{label:{type:String,default:""},rules:{type:Array,default:function(){return[]}},value:{type:[String,Object,Number],default:null},changeHandler:{type:Function,required:!0},item:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,items:[],search:null}},watch:{search:function(e){e&&e!==this.value&&!this.options.fromStore&&this.debounce("querySelections",e)},"item.id":function(e){e&&null!==this.value&&!this.options.fromStore&&this.getItem(this.value)}},created:function(){this.options.fromStore&&(this.items=this.$store.getters["entities/getSearchableItems"]({entity:this.options.entity.apiUrl,keys:this.options.concatedKeys}))},methods:{debounce:Object(w["debounce"])(function(e,t){this[e](t)},600),getItem:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.options.fromStore){e.next=8;break}return e.next=3,Object(x["a"])({url:"/api/".concat(this.options.entity.apiUrl),params:{id:t,search:!0}});case 3:n=e.sent,r=Object(j["a"])(n,2),a=r[0],i=r[1],a||(this.items=i);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),querySelections:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,!this.options.entity.apiUrl){e.next=9;break}return e.next=4,Object(x["a"])({url:"/api/".concat(this.options.entity.apiUrl),params:{search:this.search}});case 4:n=e.sent,r=Object(j["a"])(n,2),a=r[0],i=r[1],a||(this.items=i.filter(function(e){return(e.text||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}));case 9:this.loading=!1;case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},S=O,q=n("2877"),C=n("6544"),$=n.n(C),E=n("c6a6"),V=Object(q["a"])(S,g,_,!1,null,null,null),T=V.exports;$()(V,{VAutocomplete:E["a"]});var I={functional:!0,render:function(e,t){var n=t.props,r=n.product||n;return e("div",[r.sku])}},D={name:"Product",display_name:"Modelo",display_name_plural:"Modelos",apiUrl:"products",url:"modelos",field_configs:{search:["sku","fabric.name","design.name","color.name"],list:{sku:{align:"left"},fabric_id:{align:"left",formatter:y.formatter},design_id:{align:"left",formatter:h.formatter},color_id:{align:"left",formatter:f.formatter,sortable:!1}},form:{sku:{required:!0},fabric_id:{required:!0,formatter:T,formatter_options:{entity:y,fromStore:!0}},design_id:{formatter:T,formatter_options:{entity:h,fromStore:!0}},color_id:{formatter:T,formatter_options:{entity:f,fromStore:!0}}}},fields:{sku:{display_name:"Código"},fabric_id:{display_name:"Tela"},design_id:{display_name:"Diseño"},color_id:{display_name:"Color"}},formatter:I},U=D,R={functional:!0,render:function(e,t){var n=t.props,r=n.office||n;return e("div",[r.name])}},A={name:"Office",display_name:"Sucursal",display_name_plural:"Sucursales",apiUrl:"offices",url:"sucursales",field_configs:{list:{name:{align:"left"},address:{align:"left"},phone:{align:"left"}},form:{name:{required:!0},address:{},phone:{}}},fields:{name:{display_name:"Nombre"},address:{display_name:"Direccion"},phone:{display_name:"Telefono"}},formatter:R},N=A,z={name:"Customer",display_name:"Cliente",display_name_plural:"Clientes",apiUrl:"customers",url:"clientes",field_configs:{list:{name:{align:"left"},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{}},form:{name:{required:!0},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{type:"textarea"}}},fields:{name:{display_name:"Nombre"},address:{display_name:"Direccion"},phone:{display_name:"Telefono"},mobilephone:{display_name:"Celular"},email:{display_name:"Correo"},credit_days:{display_name:"Dias de Crédito"},comments:{display_name:"Observaciones"}}},P=z,L={name:"Supplier",display_name:"Proveedor",display_name_plural:"Proveedores",apiUrl:"suppliers",url:"proveedores",field_configs:{list:{name:{align:"left"},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{}},form:{name:{required:!0},address:{},phone:{},mobilephone:{},email:{},credit_days:{},comments:{type:"textarea"}}},fields:{name:{display_name:"Nombre"},address:{display_name:"Direccion"},phone:{display_name:"Telefono"},mobilephone:{display_name:"Celular"},email:{display_name:"Correo"},credit_days:{display_name:"Dias de Crédito"},comments:{display_name:"Observaciones"}}},M=L,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{"append-icon":e.showPassword?"visibility":"visibility_off",type:e.showPassword?"text":"password",rules:e.rules,label:e.label,"browser-autocomplete":"new-password"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.item[e.field],callback:function(t){e.$set(e.item,e.field,t)},expression:"item[field]"}})},H=[],B={props:{item:{type:Object,required:!0},field:{type:String,required:!0},label:{type:String,default:""},rules:{type:Array,default:function(){return[]}}},data:function(){return{showPassword:!1}}},G=B,J=n("2677"),K=Object(q["a"])(G,F,H,!1,null,null,null),Y=K.exports;$()(K,{VTextField:J["a"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.getEntityForm(e.entity,-1!==e.editedIndex),function(t){return[n("render-field",{key:"item-form-"+e.entity.name+"-"+t,attrs:{entity:e.entity,field:t,item:e.item,"edited-index":e.editedIndex,rules:e.getFieldValidations(e.entity,t,e.item),"change-handler":function(n){return e.item[t]=n}}})]})],2)},X=[],Q=n("7f8c"),Z={components:{RenderField:Q["a"]},props:{entity:{type:Object,required:!0},editedIndex:{type:[String,Number],required:!0},item:{type:Object,required:!0}},methods:{getFieldValidations:x["f"],getEntityForm:x["c"]}},ee=Z,te=Object(q["a"])(ee,W,X,!1,null,null,null),ne=te.exports,re=[{text:"Administrador",value:1},{text:"Vendedor",value:2},{text:"Cliente",value:3}],ae={name:"UserDetails",display_name_plural:"Detalles",field_configs:{form:{user_type:{type:"select",items:re,required:!0},customer_id:{formatter:T,formatter_options:{entity:P,fromStore:!0},hideOnUpdate:!0}}},fields:{user_type:{display_name:"Tipo de Usuario"},customer_id:{display_name:"Cliente"}}},ie=ae,se={functional:!0,render:function(e,t){var n=t.props;return e(ne,{attrs:{entity:ie,editedIndex:n.editedIndex,item:n.item.details}})}},oe={name:"User",display_name:"Usuario",display_name_plural:"Usuarios",apiUrl:"users",url:"usuarios",field_configs:{list:{name:{align:"left"},email:{},user_type:{},customer:{}},form:{name:{required:!0},email:{required:!0,email:!0},password:{required:!0,formatter:Y,hideOnUpdate:!0},c_password:{formatter:Y,match:{field:"password",message:"Las contraseñas no coinciden"},conditionalRequired:[{field:"password",logic:"!=",value:null}],hideOnUpdate:!0},details:{formatter:se,default:{}}}},fields:{name:{display_name:"Nombre"},email:{display_name:"Correo"},password:{display_name:"Contraseña"},c_password:{display_name:"Confirmar Contraseña"},details:{display_name:"Detalles"},user_type:{display_name:"Tipo de Usuario"},customer:{display_name:"Cliente"}}},ce=oe,le={store:!1,name:"Setting",display_name:"Ajuste",display_name_plural:"Ajustes",apiUrl:"users/settings",url:"ajustes",field_configs:{form:{name:{required:!0},email:{required:!0,email:!0},password:{formatter:Y},n_password:{formatter:Y,min:6},c_password:{formatter:Y,match:{field:"n_password",message:"Las contraseñas no coinciden"},conditionalRequired:[{field:"n_password",logic:"!=",value:null}]}}},fields:{name:{display_name:"Nombre"},email:{display_name:"Correo"},password:{display_name:"Contraseña Actual"},n_password:{display_name:"Nueva Contraseña"},c_password:{display_name:"Confirmar Contraseña"}}},ue=le,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("h2",[e._v(e._s(e.label))])]),n("v-card-text",[n("v-text-field",{attrs:{type:"number",label:"Cantidad (yd)","browser-autocomplete":"new-password"},on:{input:e.convertYardsToMeters},model:{value:e.stock.quantity_yd,callback:function(t){e.$set(e.stock,"quantity_yd",t)},expression:"stock.quantity_yd"}}),n("FormGenerator",{attrs:{entity:e.StockDetails,"edited-index":e.editedIndex,item:e.stock}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("\n      Agregar\n    ")])],1),n("v-card-text",[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-text-field",{attrs:{"append-icon":"search",label:"Buscar","single-line":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{headers:e.getEntityHeaders(e.StockDetails),search:e.search,items:e.item.details,"no-results-text":"No se encontraron registros"},scopedSlots:e._u([{key:"items",fn:function(t){return[e._l(Object.keys(e.StockDetails.field_configs.list),function(r){return n("td",{key:"item-"+t.index+"-"+r,class:{"text-xs-center":"center"===e.StockDetails.field_configs.list[r].align,"text-xs-right":"right"===e.StockDetails.field_configs.list[r].align,"text-xs-left":"left"===e.StockDetails.field_configs.list[r].align}},[e.StockDetails.field_configs.list[r].formatter?n(e.StockDetails.field_configs.list[r].formatter,e._b({tag:"component"},"component",t.item,!1)):n("div",[e._v("\n            "+e._s(t.item[r])+"\n          ")])],1)}),e.StockDetails.no_actions?e._e():n("td",{staticClass:"justify-center layout px-0"},[n("v-icon",{attrs:{small:""},on:{click:function(n){return e.deleteItem(t.item)}}},[e._v("\n            delete\n          ")])],1)]}}])})],1)],1)},fe=[],me=n("e814"),pe=n.n(me),he=(n("20d6"),n("5176")),be=n.n(he),ve=n("59ad"),ye=n.n(ve),ge=n("c1df"),_e=n.n(ge);_e.a.locale("es");var je={functional:!0,render:function(e,t){var n=t.props;return e("div",[_e()(n.created_at).fromNow()])}},ke={name:"StockDetail",display_name_plural:"Rollos",apiUrl:"stock_details",field_configs:{list:{created_at:{formatter:je},quantity:{align:"right",sortable:!1},buy_price:{align:"right",type:"number",sortable:!1}},form:{quantity:{type:"number"},buy_price:{type:"number"}}},fields:{quantity:{display_name:"Cantidad (m)"},buy_price:{display_name:"Precio de Compra (USD)"},created_at:{display_name:"Creado"}}},we=ke,xe={components:{FormGenerator:ne},props:{label:{type:String,default:""},editedIndex:{type:[Number,String],required:!0},item:{type:Object,required:!0},changeHandler:{type:Function,required:!0}},data:function(){return{search:"",stock:{quantity:null,buy_price:null,quantity_yd:null},details:[],StockDetails:we}},watch:{editedIndex:function(e){this.details=-1===e?[]:this.item.details}},methods:{convertYardsToMeters:function(e){this.stock.quantity=ye()(.9144*e).toFixed(2)},save:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t,n,a,i,s,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(-1!==this.editedIndex){e.next=7;break}this.details.push(be()({},this.stock)),this.changeHandler(this.details),this.item.stock=0,this.details.forEach(function(e){o.item.stock+=ye()(e.quantity)}),e.next=21;break;case 7:return e.next=9,this.$store.dispatch("entities/create",{entity:we.apiUrl,item:Object(r["a"])({},this.stock,{stock_id:this.item.id}),noUpdate:!0});case 9:if(t=e.sent,n=Object(j["a"])(t,2),a=n[0],i=n[1],a){e.next=21;break}return this.details.push(be()({},i.data)),s=this.$store.state.entities.stocks.findIndex(function(e){var t=e.id;return Object(w["isEqual"])(t,o.item.id)||pe()(t,10)===pe()(o.item.id,10)}),this.item.stock=0,this.details.forEach(function(e){o.item.stock+=ye()(e.quantity)}),e.next=20,this.$store.dispatch("entities/update",{entity:"stocks",item:this.item,updatedItem:s});case 20:this.$store.commit("app/showAlert",i);case 21:be()(this.stock,{quantity:null,quantity_yd:null,buy_price:null});case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteItem:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.item.details.indexOf(t),!window.confirm("¿Esta seguro de eliminar este registro?")){e.next=21;break}if(this.item.details.splice(n,1),-1!==this.editedIndex){e.next=8;break}this.item.stock=0,this.item.details.forEach(function(e){c.item.stock+=e.quantity}),e.next=21;break;case 8:return e.next=10,this.$store.dispatch("entities/delete",{deletedItem:n,entity:we.apiUrl,item:t,noDelete:!0});case 10:if(r=e.sent,a=Object(j["a"])(r,2),i=a[0],s=a[1],i){e.next=21;break}return o=this.$store.state.entities.stocks.findIndex(function(e){var t=e.id;return Object(w["isEqual"])(t,c.item.id)||pe()(t,10)===pe()(c.item.id,10)}),this.item.stock=0,this.details.forEach(function(e){c.item.stock+=ye()(e.quantity)}),e.next=20,this.$store.dispatch("entities/update",{entity:"stocks",item:this.item,updatedItem:o});case 20:this.$store.commit("app/showAlert",s);case 21:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getEntityHeaders:x["d"]}},Oe=xe,Se=n("8336"),qe=n("b0af"),Ce=n("99d9"),$e=n("12b2"),Ee=n("8fea"),Ve=n("132d"),Te=n("9910"),Ie=n("71d9"),De=Object(q["a"])(Oe,de,fe,!1,null,null,null),Ue=De.exports;$()(De,{VBtn:Se["a"],VCard:qe["a"],VCardActions:Ce["a"],VCardText:Ce["b"],VCardTitle:$e["a"],VDataTable:Ee["a"],VIcon:Ve["a"],VSpacer:Te["a"],VTextField:J["a"],VToolbar:Ie["a"]});var Re={functional:!0,render:function(e,t){var n=t.props;return e("div",[e("h3",{class:"pb-3"},["Cantidad en Almacen: ",n.item[n.field]||0,"m"])])}},Ae={name:"Stock",display_name:"Almacen",display_name_plural:"Almacen",apiUrl:"stocks",url:"almacen",field_configs:{search:["office.name","product.sku","fabric.name","design.name","color.name","stock"],list:{office_id:{align:"left",formatter:N.formatter,sortable:!1},product_id:{align:"left",formatter:U.formatter},fabric:{align:"left",formatter:y.formatter},design:{align:"left",formatter:h.formatter},color:{align:"left",formatter:f.formatter,sortable:!1},stock:{align:"right",type:"number"}},form:{office_id:{required:!0,formatter:T,formatter_options:{entity:N,fromStore:!0}},product_id:{required:!0,formatter:T,formatter_options:{entity:U,fromStore:!0,concatedKeys:["sku","fabric.name","design.name","color.name"]}},stock:{type:"number",formatter:Re},details:{formatter:Ue,default:[]}}},fields:{office_id:{display_name:"Sucursal"},product_id:{display_name:"Modelo"},fabric:{display_name:"Tela"},design:{display_name:"Diseño"},color:{display_name:"Color"},stock:{display_name:"Cantidad (m)"},details:{display_name:"Rollos"}}},Ne=Ae,ze={name:"StockMovement",display_name:"Envio de Almacen",display_name_plural:"Envios de Almacen",apiUrl:"stock_movements",url:"envios-almacen",field_configs:{list:{office_id:{align:"left",formatter:N.formatter,sortable:!1},to_office_id:{align:"left",formatter:N.formatter,sortable:!1}},form:{office_id:{required:!0,formatter:T,formatter_options:{entity:N,fromStore:!0}},to_office_id:{required:!0,formatter:T,formatter_options:{entity:N,fromStore:!0}},details:{default:[]}}},fields:{office_id:{display_name:"Desde Sucursal"},to_office_id:{display_name:"Hacia Sucursal"},balance:{display_name:"Saldo"},total:{display_name:"Total"},status:{display_name:"Estado"},user_id:{display_name:"Creado por"},details:{display_name:"Rollos para envio"}}},Pe=ze;n.d(t,"d",function(){return Fe}),n.d(t,"g",function(){return He}),n.d(t,"c",function(){return Be}),n.d(t,"a",function(){return Ge}),n.d(t,"b",function(){return Je}),n.d(t,"e",function(){return Ye}),n.d(t,"f",function(){return We});var Le={Color:f,Design:h,Fabric:y,Product:U,Office:N,Customer:P,Supplier:M,User:ce,Setting:ue,Stock:Ne,StockMovement:Pe},Me={};i()(Le).forEach(function(e){Le[e].url&&(Me[Le[e].url]=Le[e].name)});var Fe=function(e){var t=e.url,n=e.name;return t&&Me[t]?Le[Me[t]]:n&&Le[n]?Le[n]:null},He=function(e){var t=e.url,n=e.name;return t&&Me[t]&&Le[Me[t]]||n&&Le[n]},Be=function(e){var t=[];if(e.field_configs&&e.field_configs.list){var n=e.field_configs.list;i()(e.field_configs.list).forEach(function(a){t.push(Object(r["a"])({text:e.fields[a].display_name,value:a},n[a]))})}return e.no_actions||t.push({text:"",align:"right",sortable:!1}),t},Ge=function(e){var t={};return e.fields&&i()(e.fields).forEach(function(n){t[n]=e.field_configs.form[n]&&e.field_configs.form[n].default||null}),t},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(e.field_configs&&e.field_configs.form){var r=e.field_configs.form;i()(e.field_configs.form).forEach(function(e){(t&&!r[e].hideOnUpdate||!t)&&n.push(e)})}return n},Ke=function(e,t){var n=!0;return e.forEach(function(e){switch(e.logic){case"!=":null===e.value&&null!==t[e.field]&&""!==t[e.field]&&(n=!1);break;default:break}}),n},Ye=function(e,t,n){var r=[];if(e.field_configs&&e.field_configs.form&&e.field_configs.form[t]){var a=e.field_configs.form[t];a.required&&r.push(function(e){return!!e||"Debe completar este campo"}),a.min&&r.push(function(e){return e&&e.length>=a.min||!e||"Minimo ".concat(a.min," caracteres")}),a.email&&r.push(function(e){return/.+@.+/.test(e)||"Debe ingresar un e-mail válido"}),a.match&&r.push(function(e){return e===n[a.match.field]||a.match.message||"Los campos no coinciden"}),a.conditionalRequired&&Ke(a.conditionalRequired,n)&&r.push(function(e){return!!e||"Debe completar este campo"})}return r},We=function(){var e={};return i()(Le).forEach(function(t){!1!==Le[t].store&&(e[Le[t].apiUrl]=[])}),e}},"7f8c":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.entity.field_configs.form[e.field].formatter?n(e.entity.field_configs.form[e.field].formatter,{tag:"component",attrs:{options:e.entity.field_configs.form[e.field].formatter_options,label:e.entity.fields[e.field].display_name,value:e.item[e.field],item:e.item,field:e.field,rules:e.rules,"change-handler":e.changeHandler,"edited-index":e.editedIndex}}):"select"===e.entity.field_configs.form[e.field].type?n("v-select",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],label:e.entity.fields[e.field].display_name,rules:e.rules,items:e.entity.field_configs.form[e.field].items,clearable:!0},on:{change:e.changeHandler}}):"textarea"===e.entity.field_configs.form[e.field].type?n("v-textarea",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],label:e.entity.fields[e.field].display_name,rules:e.rules},on:{input:e.changeHandler}}):n("v-text-field",{key:"item-form-"+e.field,attrs:{value:e.item[e.field],type:e.entity.field_configs.form[e.field]&&e.entity.field_configs.form[e.field].type||"text",rules:e.rules,label:e.entity.fields[e.field].display_name,"browser-autocomplete":"new-password"},on:{input:e.changeHandler}})},a=[],i=(n("c5f6"),{props:{entity:{type:Object,required:!0},field:{type:String,required:!0},item:{type:Object,required:!0},rules:{type:Array,default:function(){return[]}},changeHandler:{type:Function,required:!0},editedIndex:{type:[String,Number],required:!0}}}),s=i,o=n("2877"),c=n("6544"),l=n.n(c),u=n("b56d"),d=n("2677"),f=n("a844"),m=Object(o["a"])(s,r,a,!1,null,null,null);t["a"]=m.exports;l()(m,{VSelect:u["a"],VTextField:d["a"],VTextarea:f["a"]})},ed08:function(e,t,n){"use strict";n.d(t,"g",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return g});var r=n("cebc"),a=(n("4917"),n("7618")),i=n("f499"),s=n.n(i),o=(n("28a5"),n("ac6a"),n("06db"),n("a4bb")),c=n.n(o),l=n("bc3a"),u=n.n(l),d=function(){localStorage.getItem("token")&&(u.a.defaults.headers.common["Content-Type"]="application/json",u.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("token")))};d();var f=function(e){var t=e.method,n=void 0===t?"get":t,r=e.url,a=e.data,i=void 0===a?{}:a,s=e.params,o=void 0===s?null:s;return u()({method:n,url:r,data:i,params:o}).then(function(e){return[null,e.data]}).catch(function(e){return[e]})},m=function(e){var t=[];return c()(e).forEach(function(n){t=t.concat(e[n])}),t.length?t[0]:"Ocurrio un error"},p=function e(t,n){if(t[n])return n;if(-1!==n.indexOf(".")){var r=n.split(".").length,a=n.split(".");return a.splice(r-1,1).join("."),e(t,a.join("."))}return null},h=function e(t,n,r){var i="";if(r){var o=p(t,r.join("."));if(o)return s()(t[o])}var c=n[0];if("object"===Object(a["a"])(t[c])&&null!==t[c]&&n.length>1){var l=n.slice(1);l&&(i=e(t[c],l))}else i=t[c];return i},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(e.field_configs&&e.field_configs.form){var r=e.field_configs.form;c()(e.field_configs.form).forEach(function(e){(t&&!r[e].hideOnUpdate||!t)&&n.push(e)})}return n},v=function(e,t){var n=!0;return e.forEach(function(e){switch(e.logic){case"!=":null===e.value&&null!==t[e.field]&&""!==t[e.field]&&(n=!1);break;default:break}}),n},y=function(e,t,n){var r=[];if(e.field_configs&&e.field_configs.form&&e.field_configs.form[t]){var a=e.field_configs.form[t];a.required&&r.push(function(e){return!!e||"Debe completar este campo"}),a.min&&r.push(function(e){return e&&e.length>=a.min||!e||"Minimo ".concat(a.min," caracteres")}),a.email&&r.push(function(e){return/.+@.+/.test(e)||"Debe ingresar un e-mail válido"}),a.match&&r.push(function(e){return e===n[a.match.field]||a.match.message||"Los campos no coinciden"}),a.conditionalRequired&&v(a.conditionalRequired,n)&&r.push(function(e){return!!e||"Debe completar este campo"})}return r},g=function(e){var t=[];if(e.field_configs&&e.field_configs.list){var n=e.field_configs.list;c()(e.field_configs.list).forEach(function(a){t.push(Object(r["a"])({text:e.fields[a].display_name,value:a},n[a]))})}return e.no_actions||t.push({text:"",align:"right",sortable:!1}),t}}});
//# sourceMappingURL=app.f547a055.js.map